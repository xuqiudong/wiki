---
title: 软考案例分析随手记
description: 系统机构是案例分析随手记
published: true
date: 2022-09-22T08:33:29.355Z
tags: study, 软考
editor: markdown
dateCreated: 2022-08-26T07:57:31.531Z
---

> 系统架构设计师
## 001. 常见反规范化技术：
1. 增加冗余列
2. 增加派生列
3. 重新组表：
4. 垂直分割表：
5. 水平分割表：

## 002. 范规范化设计数据一致性
1. 定时器批处理
2. 应用程序中进行逻辑处理
3. 触发器的方式

## 003 redis和mysql数据同步方案
1. 一致性高，实时同步： 查询先查缓存；更新时候，先入库，再删缓存
2. 并发高， 异步队列同步，如kafaka,rabbitmq
3. 采用同步工具，如阿里的canal，原理类似mysql slave和master，监控binlog的方式来更新缓存
4. 自定义UDF函数的方式，地mysql的API进行编程，利用触发器同步缓存

## 004. 数据流图和流程图的区别
|数据流|系统流程图|
|----|----|
|处理过程可并行| 某时间点只能处理一个过程|
|展现系统的数据流|展现系统的控制流|
|展现全局的处理过程，遵循不同的计时标准|遵循一致的计时标准|

## 005. 架构评估的架构风险、敏感点和权衡点
- 风险：架构设计中潜在的、存在问题所带来的隐患。
- 敏感点：为了实现某个特定的质量属性，一个或多个构件所具有的特性。
- 权衡点：影响多个质量属性的特性，是多个质量的敏感点。

## 006. 管道过滤器和数据仓库风格比对
|比较因素|管道过滤器|数据仓库|
|----|----|
|交互方式|顺序结构或有限的循环结构 |星型 |
|数据结构| 数据流|文件或模型 |
|控制结构|数据流驱动 | 业务功能驱动|
|扩展方法| 接口适配|模型适配 |
|数据处理方式|数据驱动，处理流程先确定，交互性差|数据存在中心仓库，处理流程独立，支持交互式处理|
|可扩展性|处理流程和数据密切关联，调整流程需重启|数据与处理解耦，可动态添加|
|性能|劣：数据格式需转换；优：过滤器并发调用|劣：数据与流程分离，需加载数据；优：组件无关联，可并发|

## 007 逻辑数据模型设计过程：建立ER图
1. 构建上下文模型：实体及其关联
2. 绘制基于主键的数据模型，为实体加主键
3. 构件全属性数据模型，加非主键
4. 利用规范化技术建立系统规范化数据模型

## 008 软件需求到架构的映射难点
1. 描述语言：二者存在差异，一是非正规的自然语言，一是正式语言；
2. 非功能性需求描述：需求中的非功能性需求很难在架构模型中形成规约；
3. 需求和架构的一致性：从需求映射到架构，保持一致性和可追溯性很难，很复杂。因需求定位多个软件架构的关注点。架构元素也有多个软件需求。

## 009 redis缓存持久化，分布式方案和切片
||RDB|AOF|
|---|---|---|
|**磁盘更新频率**|-|更高|
|**数据安全**|-|更安全|
|**数据一致性**|-|更好|
|**重启性能**|更快|-|
|**数据文件大小**|更大|-|

分布式方案：主从， 哨兵， 集群（cluster）
**切片**：
1. 客户端切片：客户端实现，通过一致性hash决定选取节点
2. 中间件切片：在应用和redis间，通过中间件路由分派
3. 客户端和服务端协作分片:redis cluster集群模式，客户端采用一致性哈希，服务端提供错误节点的重定向服务

淘汰策略：
1. 已设置过期中：最近最少使用， 将要过期的，任意数据
2. 从数据集中：最近最少使用的，任意数据

## 010 (工业领域)采用标准的数据访问机制的原因
1. 需和不同的设备进行数据交互
2. 可在硬件供应商和软件供应商之间建立一套完整的规则
3. 只要遵循此规则，数据交换对二者都是透明的
4. 硬件只需考虑应用程序的多种需求和传输兴义
5. 软件不必了解硬件的实质和操作过程

## 011 为缓存的key设置空值的问题和解决
1. **问题**：不在系统中的key值是无限的，如果都设置为空，会造成内存浪费，降低性能；
2. **解决**：在查缓存之前，对key值进行过滤，只允许系统中存在的key操作（如采用key的bitmap或布隆过滤器等）

## 012 缓存雪崩解决思路
1. key设置不同失效时间，使之分布均匀
2. 缓存失效后，通过加锁或队列使得缓存重建串行化
3. 设置多级缓存，避免访问数据库服务器

## 013 SQL注入与预防
- SQL注入： 把SQP命令插入到WEB表单或输入域名或页面请求字段中，达到欺骗服务器执行恶意的SQL命令。
- 预防：
  - 使用正则表达式
  - 参数化的过滤性语句
  - 检查输入的合法性
  - 存储过程执行查询
  - 漏洞扫描工具
  
## 014 Entity和Class的区别  
- 实体用于数据建模， 类用于对象建模；
- 实体只有属性，类有属性和方法；

## 015 Essential Use Cases和Real Use Cases区别？
- 抽象用例：从基础用例中抽取用例的公共部分，为避免重复工作，优化结构而提出的用例。
- 基础用例：是实实在在和用户需求对应的用例

## 016 非功能性需求:操作性，性能，安全和文化
- 系统性能需求：指响应时间、吞吐量、准确性、有效性、资源利用率与系统完成任务效率相关的指标。可靠性与可用性也归于此类。
- 安全性需求：系统向合法用户提供服务，组织非授权用户使用服务方面的需求；
- 操作性需求：与**用户操作使用系统**相关的一些需求
- 文化需求：带有**文化背景因素**的需求；

## 017 什么是面向服务架构SOA，以及ESB在SOA中的作用和特点
- **面向服务架构SOA**：
  1. 是一个**组件模型**
  2. 将不同的**功能单元**（服务）通过服务间**定义良好的接口和契约**联系起来。
  3. 接口是采用**中立的方式**定义的，**独立于硬件平台、操作系统和编程语言**。
  4. 使得构件在系统中的服务**以一种统一和通用的方式交互**。
- **ESB作用与特点**：
  1. 是SOA的一种实现，在SOA中起总线作用，连接与整合各种服务；
  2. 描述服务的元数据和服务注册管理；
  3. 在服务请求者和提供者之间传递数据，对数据进行转换，支持同步、异步模式；
  4. 发现、路由、匹配和选择的能力，以支持服务间的动态交互，解耦服务请求者和提供者。
  5. 提供一些高级能力：安全支付、服务质量保证、可管理性和负载均衡等。
  
## 018 MVC架构的三元素：
1. 视图view：用户看到的与之交互的界面，展示数据，接收输入。
2. 控制器controller：接收用户的输入，调用模型和视图完成用户的需求，是view和model的接口：
  - 接收来自视图的输入，解释为系统理解的对象，识别用户动作，解释为模型的特定方法的调用；
  - 处理来自模型的事件和执行结果，调用适当的视图为用户反馈。
3. 模型model：程序的主体，表示业务数据和业务逻辑。一个model为多个视图提供数据。  

## 019 EJB中三种bean
- Session bean: 维持一个短暂的会话
- entity bean: 维持一行持久稳固的数据
- Message-driven bean: 异步接收消息

## 020 ROS(机器人操作系统)和嵌入式实时操作系统的异同
1. **共同点**
 - 系统微型化
 - 系统专用性强
 - 软硬件依赖性强
 - 系统资源受限
2. **差异** 
 - 实时性：ROS弱一些
 - 通信方式：ROS更丰富，嵌入式实时操作系统较单一
 ## 021 数据库在线访问方式和ORM方式对比
 |-|在线访问|ORM|
 |---|---|---|
 |优点|性能好；可处理复杂查询语句|降低学习和开发成本；无需编些sql进行db操作；减少代码量，降低由sql质量差带来的影响|
 |缺点|需懂sql；修改维护较困难|难以处理复杂语句；性能较直接sql差|
 
 ## 022 抽象工厂模式
 - 提供一个接口，可创建一系列相关或依赖的对象，无需指定它们具体的类
 - 可以非常方便的创建**一系列的对象**
 - 比如，异构数据库访问， 可针对mysql、oracle等分别建立抽象工厂；当指定为oracle时，则创建出来的数据库连接，数据集等一系列对象都是符合oracle操作要求的，编译数据库之间的切换。
 
 ## 023 响应式web设计
    页面可以根据用户的行为和不同的设备环境，做出相应的响应来调页面的布局，以提供给用户可感知的、流畅的阅读和操作体应。
    实现方式：流式布局；弹性布局加媒体查询。
    
## 024 主从复制的好处
1. 提升性能: 一主多从，读写分离，提高并发
2. 可扩展性：快速增加从服务器
3. 可用性：一台出现故障不影响整个系统工作
4. 负载均衡：多从分担任务，类似负载均衡
5. 安全性:相当数据的冗余备份，防止硬件故障造成的数据丢失

## 025 状态图与活动图的含义以及区别
1. 状态图：描述**一个对象**在其生命周期间的**动态行为**，包含其所有的**状态序列**，引起状态转移的**事件**(event),以及因状态转移而伴随**的动作**(action);
2. 活动图：描述系统的工作流程和并发行为，可看成特殊的状态图。一个活动结束立即进入笑一个活动(状态图需要事件触发)。
3. 区别：状态图侧重描述行为的结果，活动图侧重描述行为的动作。活动图可描述并发行为，状态图不可；


## 026 系统内部和外部质量
- **功能性**：
  - 适合性，准确性；互操作性；安全保密性；功能性的依从性；
- **可靠性** ：产品在规定的条件和时间内完成规定功能能力；
  - 成熟性；容错性；易恢复性；可靠性的依从性；
  - **可靠性技术**： 
- **易用性** ：N版本程序设计；恢复块方法；防卫式程序设计；双机热备份或集群系统；冗余设计
  - 易理解性；易学性；易操作性；吸引性；易用性的依从性
- **效率** ：
  - 时间特性；资源利用性；效率依从性
- **维护性**：
  - 易分析性；易改变性；稳定性；易测试性；维护性的依从性
- **可移植性**：
  - 适应性；易安装性；共存性；易替换性；可移植性的依从性

## 027 可靠性技术中恢复块方法和N版本程序设计